<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Instrumental Maker - Audio stem separation and processing pipeline">
    <meta name="theme-color" content="#0ea5e9">
    <title>Instrumental Maker</title>
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon.svg') }}">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        accent: {
                            50: '#fdf4ff',
                            100: '#fae8ff',
                            200: '#f5d0fe',
                            300: '#f0abfc',
                            400: '#e879f9',
                            500: '#d946ef',
                            600: '#c026d3',
                            700: '#a21caf',
                            800: '#86198f',
                            900: '#701a75',
                        }
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>
<body class="h-full bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 text-gray-900 dark:text-gray-100 transition-colors duration-200">
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Toast notification container -->
    <div id="toast-container" aria-live="polite" aria-label="Notifications"></div>
    
    <!-- Mobile sidebar overlay -->
    <div id="sidebar-overlay" class="sidebar-overlay md:hidden" onclick="toggleSidebar()" aria-hidden="true"></div>
    
    <div class="flex h-full">
        <!-- Sidebar -->
        <aside id="sidebar" class="w-64 bg-white dark:bg-gray-800 shadow-lg border-r border-gray-200 dark:border-gray-700 flex flex-col transition-all duration-300">
            <!-- Logo & Title -->
            <div class="p-4 md:p-6 border-b border-gray-200 dark:border-gray-700">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-9 h-9 md:w-10 md:h-10 bg-gradient-to-br from-primary-500 to-accent-500 rounded-lg flex items-center justify-center shadow-lg">
                            <svg class="w-5 h-5 md:w-6 md:h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path>
                            </svg>
                        </div>
                        <div>
                            <h1 class="text-base md:text-lg font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent">Instrumental</h1>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Maker</p>
                        </div>
                    </div>
                    <!-- Close button for mobile -->
                    <button onclick="toggleSidebar()" class="md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="flex-1 p-4 space-y-2 overflow-y-auto">
                <a href="#" data-page="dashboard" class="nav-link active flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span class="font-medium">Dashboard</span>
                </a>
                <a href="#" data-page="queue" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path>
                    </svg>
                    <span class="font-medium">Queue</span>
                </a>
                <a href="#" data-page="library" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                    </svg>
                    <span class="font-medium">Library</span>
                </a>
                <a href="#" data-page="upload" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                    </svg>
                    <span class="font-medium">Upload</span>
                </a>
                <a href="#" data-page="logs" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span class="font-medium">Logs</span>
                </a>
                <a href="#" data-page="storage" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 7h14M5 7a2 2 0 110-4h14a2 2 0 110 4M5 7v10a2 2 0 002 2h10a2 2 0 002-2V7m0 0a2 2 0 100-4H5a2 2 0 100 4"></path>
                    </svg>
                    <span class="font-medium">Storage</span>
                </a>
                <a href="#" data-page="nas" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    <span class="font-medium">NAS Sync</span>
                </a>
                <a href="#" data-page="monitoring" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    <span class="font-medium">Monitoring</span>
                </a>
                <a href="#" data-page="settings" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span class="font-medium">Settings</span>
                </a>
                <a href="#" data-page="youtube" class="nav-link flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="font-medium">YouTube</span>
                </a>
            </nav>

            <!-- Theme Toggle & Settings -->
            <div class="p-4 border-t border-gray-200 dark:border-gray-700 space-y-2">
                <button id="theme-toggle" class="w-full flex items-center justify-between px-4 py-3 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200">
                    <span class="flex items-center space-x-3">
                        <svg id="theme-icon-light" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                        </svg>
                        <svg id="theme-icon-dark" class="w-5 h-5 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                        </svg>
                        <span id="theme-text" class="font-medium text-sm">Theme</span>
                    </span>
                </button>
                
                <div class="flex items-center justify-between px-4 py-2 text-xs text-gray-500 dark:text-gray-400">
                    <a href="https://instrumental-files.nsystems.live" target="_blank" class="hover:text-primary-600 dark:hover:text-primary-400 transition-colors">Files</a>
                    <span>â€¢</span>
                    <a href="https://instrumental-deemix.nsystems.live" target="_blank" class="hover:text-primary-600 dark:hover:text-primary-400 transition-colors">Deemix</a>
                    <span>â€¢</span>
                    <a href="https://instrumental-minio.nsystems.live" target="_blank" class="hover:text-primary-600 dark:hover:text-primary-400 transition-colors">MinIO</a>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main id="main-content" class="flex-1 overflow-y-auto" role="main">
            <!-- Header -->
            <header class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-md shadow-sm border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10 transition-colors duration-200">
                <div class="px-4 md:px-8 py-4 flex items-center justify-between">
                    <!-- Mobile menu button -->
                    <button id="menu-toggle" class="hamburger-btn mr-3 text-gray-600 dark:text-gray-300" onclick="toggleSidebar()" aria-label="Toggle navigation menu" aria-expanded="false">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                    <div class="flex-1 min-w-0">
                        <h2 id="page-title" class="text-xl md:text-2xl font-bold truncate">Dashboard</h2>
                        <p id="page-subtitle" class="text-xs md:text-sm text-gray-500 dark:text-gray-400 mt-1 truncate">Overview of your instrumental processing pipeline</p>
                    </div>
                    <div class="flex items-center space-x-2 md:space-x-4 ml-2">
                        <div id="processor-status" class="flex items-center space-x-2 px-2 md:px-4 py-1.5 md:py-2 rounded-full bg-gray-100 dark:bg-gray-700">
                            <div class="w-2 h-2 rounded-full bg-gray-400 animate-pulse"></div>
                            <span class="text-xs md:text-sm font-medium hidden sm:inline">Checking...</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Page Content Container -->
            <div id="content-container" class="p-4 md:p-6 lg:p-8">
                <!-- Dashboard Page (Default) -->
                <div id="page-dashboard" class="page-content">
                    <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 lg:gap-6 mb-6 md:mb-8">
                        <!-- Stats Cards -->
                        <div class="stat-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-1">Queue</p>
                                    <p id="stat-queue" class="text-3xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent">0</p>
                                </div>
                                <div class="w-12 h-12 bg-gradient-to-br from-primary-100 to-accent-100 dark:from-primary-900 dark:to-accent-900 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-1">Library</p>
                                    <p id="stat-library" class="text-3xl font-bold bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent">0</p>
                                </div>
                                <div class="w-12 h-12 bg-gradient-to-br from-primary-100 to-accent-100 dark:from-primary-900 dark:to-accent-900 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-1">Processed (24h)</p>
                                    <p id="stat-processed" class="text-3xl font-bold text-green-600 dark:text-green-400">0</p>
                                </div>
                                <div class="w-12 h-12 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900 dark:to-emerald-900 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="stat-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-1">Failed (24h)</p>
                                    <p id="stat-failed" class="text-3xl font-bold text-red-600 dark:text-red-400">0</p>
                                </div>
                                <div class="w-12 h-12 bg-gradient-to-br from-red-100 to-rose-100 dark:from-red-900 dark:to-rose-900 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700 mb-6 md:mb-8 animate-fadeIn">
                        <h3 class="text-base md:text-lg font-bold mb-3 md:mb-4 flex items-center">
                            <svg class="w-4 h-4 md:w-5 md:h-5 mr-2 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                            </svg>
                            Recent Jobs
                        </h3>
                        <div id="recent-jobs" class="space-y-2 md:space-y-3">
                            <!-- Skeleton loaders -->
                            <div class="skeleton-loader">
                                <div class="flex items-center justify-between p-3 md:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg gap-3">
                                    <div class="flex items-center space-x-3 md:space-x-4 flex-1">
                                        <div class="skeleton skeleton-avatar"></div>
                                        <div class="flex-1">
                                            <div class="skeleton skeleton-text" style="width: 70%;"></div>
                                            <div class="skeleton skeleton-text-sm"></div>
                                        </div>
                                    </div>
                                    <div class="skeleton skeleton-text-sm" style="width: 60px;"></div>
                                </div>
                                <div class="flex items-center justify-between p-3 md:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg gap-3 mt-2">
                                    <div class="flex items-center space-x-3 md:space-x-4 flex-1">
                                        <div class="skeleton skeleton-avatar"></div>
                                        <div class="flex-1">
                                            <div class="skeleton skeleton-text" style="width: 55%;"></div>
                                            <div class="skeleton skeleton-text-sm"></div>
                                        </div>
                                    </div>
                                    <div class="skeleton skeleton-text-sm" style="width: 60px;"></div>
                                </div>
                                <div class="flex items-center justify-between p-3 md:p-4 bg-gray-50 dark:bg-gray-700 rounded-lg gap-3 mt-2">
                                    <div class="flex items-center space-x-3 md:space-x-4 flex-1">
                                        <div class="skeleton skeleton-avatar"></div>
                                        <div class="flex-1">
                                            <div class="skeleton skeleton-text" style="width: 65%;"></div>
                                            <div class="skeleton skeleton-text-sm"></div>
                                        </div>
                                    </div>
                                    <div class="skeleton skeleton-text-sm" style="width: 60px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Processing Status -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700 mb-6 md:mb-8">
                        <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-3 md:mb-4">
                            <h3 class="text-base md:text-lg font-bold flex items-center">
                                <svg class="w-4 h-4 md:w-5 md:h-5 mr-2 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path>
                                </svg>
                                Current Processing
                            </h3>
                            <span id="processor-status" class="inline-flex items-center px-3 py-1 rounded-full text-xs md:text-sm font-medium self-start sm:self-auto">
                                Loading...
                            </span>
                        </div>
                        <div id="processing-status">
                            <div id="current-job">
                                <div class="flex items-center justify-center py-6 md:py-8 text-gray-400">
                                    <svg class="animate-spin h-6 w-6 md:h-8 md:w-8" fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Processing History -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between mb-3 md:mb-4">
                            <h3 class="text-base md:text-lg font-bold flex items-center">
                                <svg class="w-4 h-4 md:w-5 md:h-5 mr-2 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                Processing History
                            </h3>
                            <button onclick="clearProcessingHistory()" class="px-3 py-1 text-xs md:text-sm bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex items-center gap-1" title="Clear all processing history">
                                <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                                <span class="hidden sm:inline">Clear</span>
                            </button>
                        </div>
                        <div id="processing-history" class="space-y-2">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Other pages will be loaded dynamically -->
                <div id="page-queue" class="page-content hidden">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700">
                        <h3 class="text-lg font-bold mb-4">Processing Queue</h3>
                        <div id="queue-content">Loading...</div>
                    </div>
                </div>

                <div id="page-settings" class="page-content hidden">
                    <div class="space-y-6 md:space-y-8">
                        <!-- Settings Header -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                            <h2 class="text-xl md:text-2xl font-bold mb-2">System Configuration</h2>
                            <p class="text-gray-600 dark:text-gray-400 text-sm md:text-base">
                                Manage pipeline settings. Changes apply immediately without restarting services.
                            </p>
                        </div>

                        <!-- Settings Tabs -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden">
                            <div class="flex flex-wrap gap-0 border-b border-gray-200 dark:border-gray-700 px-4 md:px-6">
                                <button class="settings-tab-btn flex-shrink-0 px-4 md:px-6 py-3 font-medium border-b-2 border-primary-600 text-primary-600 dark:text-primary-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors" data-tab="variant-generation">
                                    <span class="flex items-center space-x-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg>
                                        <span class="hidden sm:inline">Variants</span>
                                    </span>
                                </button>
                                <button class="settings-tab-btn flex-shrink-0 px-4 md:px-6 py-3 font-medium border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors" data-tab="demucs">
                                    <span class="flex items-center space-x-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                                        <span class="hidden sm:inline">Demucs</span>
                                    </span>
                                </button>
                                <button class="settings-tab-btn flex-shrink-0 px-4 md:px-6 py-3 font-medium border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors" data-tab="audio">
                                    <span class="flex items-center space-x-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg>
                                        <span class="hidden sm:inline">Audio</span>
                                    </span>
                                </button>
                                <button class="settings-tab-btn flex-shrink-0 px-4 md:px-6 py-3 font-medium border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors" data-tab="youtube">
                                    <span class="flex items-center space-x-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                        <span class="hidden sm:inline">YouTube</span>
                                    </span>
                                </button>
                                <button class="settings-tab-btn flex-shrink-0 px-4 md:px-6 py-3 font-medium border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors" data-tab="nas-sync">
                                    <span class="flex items-center space-x-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                                        <span class="hidden sm:inline">NAS</span>
                                    </span>
                                </button>
                                <button class="settings-tab-btn flex-shrink-0 px-4 md:px-6 py-3 font-medium border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors" data-tab="queue">
                                    <span class="flex items-center space-x-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                                        <span class="hidden sm:inline">Queue</span>
                                    </span>
                                </button>
                            </div>

                            <!-- Settings Content -->
                            <div id="settings-content" class="p-4 md:p-6">
                                <!-- Loading state -->
                                <div class="flex items-center justify-center py-12">
                                    <div class="text-center">
                                        <svg class="w-8 h-8 mx-auto mb-3 text-gray-400 animate-spin" fill="none" viewBox="0 0 24 24">
                                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                        </svg>
                                        <p class="text-gray-600 dark:text-gray-400">Loading configuration...</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Settings Help -->
                        <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4">
                            <p class="text-sm text-blue-800 dark:text-blue-300">
                                <strong>ðŸ’¡ Configuration Tips:</strong> All settings are loaded from your .env file on startup. 
                                Changes you make here are saved to the database and persist across restarts. 
                                You can reset any setting to its original default value.
                            </p>
                        </div>
                    </div>
                </div>

                <div id="page-library" class="page-content hidden">
                    <!-- Audio Player (Fixed Bottom) -->
                    <div id="audio-player" class="hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-2xl z-50">
                        <div class="max-w-7xl mx-auto px-3 md:px-4 py-2 md:py-3">
                            <!-- Mobile Layout -->
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4">
                                <!-- Close button (top right on mobile) -->
                                <button onclick="audioPlayer.hidePlayer(); audioPlayer.audio && audioPlayer.audio.pause()" class="absolute top-2 right-2 sm:relative sm:top-auto sm:right-auto sm:order-last p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                                    <svg class="w-4 h-4 sm:w-5 sm:h-5 text-gray-700 dark:text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                                
                                <!-- Track Info & Controls Row -->
                                <div class="flex items-center gap-3 flex-1 min-w-0 pr-8 sm:pr-0">
                                    <!-- Controls -->
                                    <div class="flex items-center gap-1 sm:gap-3 shrink-0">
                                        <button onclick="audioPlayer.playPrevious()" class="p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                                            <svg class="w-4 h-4 sm:w-5 sm:h-5 text-gray-700 dark:text-gray-300" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M6 6h2v12H6V6zm3.5 6l8.5 6V6l-8.5 6z"></path>
                                            </svg>
                                        </button>
                                        <button id="player-play-btn" onclick="audioPlayer.togglePlayPause()" class="p-2 sm:p-3 rounded-full bg-primary-600 hover:bg-primary-700 transition-colors">
                                            <svg class="w-5 h-5 sm:w-6 sm:h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M8 5v14l11-7z"></path>
                                            </svg>
                                        </button>
                                        <button onclick="audioPlayer.playNext()" class="p-1.5 sm:p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                                            <svg class="w-4 h-4 sm:w-5 sm:h-5 text-gray-700 dark:text-gray-300" fill="currentColor" viewBox="0 0 24 24">
                                                <path d="M16 18h2V6h-2v12zM6 18l8.5-6L6 6v12z"></path>
                                            </svg>
                                        </button>
                                    </div>
                                    
                                    <!-- Track Info -->
                                    <div class="min-w-0 flex-1">
                                        <div class="font-semibold text-xs sm:text-sm text-gray-900 dark:text-gray-100 truncate" id="player-title">Track Title</div>
                                        <div class="text-xs text-gray-500 dark:text-gray-400 truncate" id="player-artist">Artist - Album</div>
                                    </div>
                                </div>
                                
                                <!-- Progress Bar -->
                                <div class="flex items-center gap-2 w-full sm:flex-1 sm:max-w-md">
                                    <span class="text-xs text-gray-500 dark:text-gray-400 w-10 text-right tabular-nums" id="player-current-time">0:00</span>
                                    <div class="flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 cursor-pointer min-w-0" onclick="audioPlayer.seek((event.offsetX / this.offsetWidth) * 100)">
                                        <div id="player-progress" class="bg-primary-600 h-1.5 rounded-full transition-all" style="width: 0%"></div>
                                    </div>
                                    <span class="text-xs text-gray-500 dark:text-gray-400 w-10 tabular-nums" id="player-duration">0:00</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 md:mb-6">
                            <h3 class="text-base md:text-lg font-bold">Music Library</h3>
                            <button onclick="audioPlayer.loadLibrary()" class="w-full sm:w-auto px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                                Refresh
                            </button>
                        </div>
                        <div id="library-grid" class="grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 md:gap-4">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <div id="page-upload" class="page-content hidden">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <h3 class="text-base md:text-lg font-bold mb-4">Upload Files</h3>
                        <div id="upload-content">
                            <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-8 md:p-16 text-center hover:border-primary-500 dark:hover:border-primary-400 transition-all cursor-pointer group" id="drop-zone" role="button" tabindex="0" aria-label="Upload audio files by clicking or dragging">
                                <div class="transform group-hover:scale-110 transition-transform duration-300">
                                    <svg class="mx-auto h-12 w-12 md:h-16 md:w-16 text-gray-400 group-hover:text-primary-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                    </svg>
                                </div>
                                <p class="mt-4 md:mt-6 text-sm md:text-base font-medium text-gray-600 dark:text-gray-400">
                                    Drag and drop files here
                                </p>
                                <p class="mt-2 text-xs md:text-sm text-gray-500 dark:text-gray-500">
                                    or click to browse your files
                                </p>
                                <p class="mt-4 text-xs text-gray-400 dark:text-gray-500">
                                    Supports MP3, FLAC, WAV, M4A, OGG
                                </p>
                                <input type="file" id="file-input" class="hidden" multiple accept="audio/*" aria-label="Select audio files">
                            </div>
                            
                            <!-- Upload progress container -->
                            <div id="upload-progress-container" class="hidden mt-6 space-y-3">
                                <h4 class="text-sm font-semibold text-gray-700 dark:text-gray-300">Uploading Files</h4>
                                <div id="upload-progress-list" class="space-y-2">
                                    <!-- Upload items will be inserted here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="page-logs" class="page-content hidden">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-base md:text-lg font-bold">Processing Logs</h3>
                            <button onclick="clearProcessingLogs()" class="px-3 py-1 text-xs md:text-sm bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex items-center gap-1" title="Clear all processing logs">
                                <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                </svg>
                                <span class="hidden sm:inline">Clear</span>
                            </button>
                        </div>
                        <div id="logs-content" class="font-mono text-xs space-y-1 max-h-[60vh] md:max-h-96 overflow-y-auto bg-gray-50 dark:bg-gray-900 p-3 md:p-4 rounded-lg">
                            Loading logs...
                        </div>
                    </div>
                </div>

                <div id="page-storage" class="page-content hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <!-- Disk Usage Card -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                            <h3 class="text-base md:text-lg font-bold mb-4 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                Disk Usage
                            </h3>
                            <div id="disk-usage-container" class="space-y-3">
                                <div class="flex items-center justify-center py-6">
                                    <svg class="animate-spin h-6 w-6" fill="none" viewBox="0 0 24 24">
                                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions Card -->
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                            <h3 class="text-base md:text-lg font-bold mb-4">Quick Actions</h3>
                            <div class="space-y-2">
                                <button onclick="cleanupWorkingDirectory()" class="w-full px-4 py-2 bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-800 transition-colors flex items-center justify-center gap-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                    </svg>
                                    Clean Working Dir
                                </button>
                                <button onclick="emptyQuarantine()" class="w-full px-4 py-2 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-800 transition-colors flex items-center justify-center gap-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                    </svg>
                                    Empty Quarantine
                                </button>
                                <button onclick="loadStorageStats()" class="w-full px-4 py-2 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded-lg hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors flex items-center justify-center gap-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                    </svg>
                                    Refresh Stats
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Directory Breakdown -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <h3 class="text-base md:text-lg font-bold mb-4">Directory Breakdown</h3>
                        <div id="directory-breakdown" class="space-y-3">
                            <div class="flex items-center justify-center py-6">
                                <svg class="animate-spin h-6 w-6" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="page-nas" class="page-content hidden">
                    <!-- NAS Status Card -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700 mb-6">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-base md:text-lg font-bold flex items-center">
                                <svg class="w-5 h-5 mr-2 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                </svg>
                                NAS Sync Status
                            </h3>
                            <button onclick="triggerSync()" class="px-4 py-2 bg-gradient-to-r from-primary-500 to-accent-500 hover:from-primary-600 hover:to-accent-600 text-white rounded-lg transition-all duration-200 flex items-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                                Sync Now
                            </button>
                        </div>
                        <div id="nas-status-container" class="space-y-4">
                            <div class="flex items-center justify-center py-8">
                                <svg class="animate-spin h-6 w-6" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- NAS Configuration -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700 mb-6">
                        <h3 class="text-base md:text-lg font-bold mb-4">Configuration</h3>
                        <div id="nas-config-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="flex items-center justify-center py-6">
                                <svg class="animate-spin h-6 w-6" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Sync History -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <h3 class="text-base md:text-lg font-bold mb-4">Sync History</h3>
                        <div id="nas-history-container" class="space-y-3 max-h-96 overflow-y-auto">
                            <div class="flex items-center justify-center py-8">
                                <svg class="animate-spin h-6 w-6" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Monitoring Page -->
                <div id="page-monitoring" class="page-content hidden space-y-6">
                    <!-- NAS Sync Health -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide">Sync Status</p>
                                    <p id="sync-status-value" class="text-2xl font-bold mt-1">â€”</p>
                                </div>
                                <svg class="w-12 h-12 text-green-500 opacity-20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide">Last Sync</p>
                                    <p id="last-sync-time" class="text-lg font-bold mt-1">â€”</p>
                                </div>
                                <svg class="w-12 h-12 text-blue-500 opacity-20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 border border-gray-200 dark:border-gray-700">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide">Total Syncs</p>
                                    <p id="total-syncs-value" class="text-2xl font-bold mt-1">â€”</p>
                                </div>
                                <svg class="w-12 h-12 text-purple-500 opacity-20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Connectivity Check -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-base md:text-lg font-bold">Connectivity Check</h3>
                            <button id="test-connectivity-btn" onclick="testNASConnectivity()" class="px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all flex items-center gap-2 text-sm">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                Test Connection
                            </button>
                        </div>
                        <div id="connectivity-result" class="text-center py-6">
                            <p class="text-gray-500 dark:text-gray-400 text-sm">Click "Test Connection" to check NAS connectivity</p>
                        </div>
                    </div>

                    <!-- Statistics -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <h3 class="text-base md:text-lg font-bold mb-4">Sync Statistics</h3>
                        <div id="sync-stats-container" class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <div class="bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800">
                                <p class="text-xs text-green-600 dark:text-green-400 uppercase tracking-wide">Successful</p>
                                <p id="stat-successful" class="text-2xl font-bold mt-1">0</p>
                            </div>
                            <div class="bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800">
                                <p class="text-xs text-red-600 dark:text-red-400 uppercase tracking-wide">Failed</p>
                                <p id="stat-failed" class="text-2xl font-bold mt-1">0</p>
                            </div>
                            <div class="bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 border border-yellow-200 dark:border-yellow-800">
                                <p class="text-xs text-yellow-600 dark:text-yellow-400 uppercase tracking-wide">Skipped</p>
                                <p id="stat-skipped" class="text-2xl font-bold mt-1">0</p>
                            </div>
                            <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800">
                                <p class="text-xs text-blue-600 dark:text-blue-400 uppercase tracking-wide">Total Data</p>
                                <p id="stat-data" class="text-lg font-bold mt-1">0 MB</p>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Events -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-base md:text-lg font-bold">Recent Sync Events</h3>
                            <button onclick="loadNASMonitoring()" class="px-3 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-1">
                                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                </svg>
                                Refresh
                            </button>
                        </div>
                        <div id="recent-events-list" class="space-y-2 max-h-96 overflow-y-auto">
                            <div class="flex items-center justify-center py-8">
                                <svg class="animate-spin h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <!-- Job Artifacts -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-base md:text-lg font-bold">Job Artifacts</h3>
                            <input type="text" id="job-search-input" placeholder="Search by job ID..." 
                                class="px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                        </div>
                        <div id="job-artifacts-container" class="space-y-3 max-h-96 overflow-y-auto">
                            <p class="text-center text-gray-500 dark:text-gray-400 text-sm py-8">Type a job ID to view artifacts...</p>
                        </div>
                    </div>
                </div>

                <!-- YouTube Download Page -->
                <div id="page-youtube" class="page-content hidden">
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700 mb-6">
                        <h3 class="text-base md:text-lg font-bold mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-red-500" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                            </svg>
                            Download from YouTube
                        </h3>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">
                            Paste a YouTube URL to download audio and add it to the processing queue.
                            The video title will be used as the song name, channel as the album, and "YTDL" as the artist.
                        </p>
                        
                        <!-- URL Input -->
                        <div class="flex flex-col sm:flex-row gap-3 mb-6">
                            <div class="flex-1">
                                <label for="youtube-url" class="sr-only">YouTube URL</label>
                                <input type="url" id="youtube-url" 
                                    placeholder="https://www.youtube.com/watch?v=..." 
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"
                                    aria-label="YouTube video URL">
                            </div>
                            <button onclick="previewYouTube()" id="yt-preview-btn" class="px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 flex items-center justify-center gap-2 whitespace-nowrap">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                </svg>
                                Preview
                            </button>
                            <button onclick="downloadYouTube()" id="yt-download-btn" class="px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-lg transition-all duration-200 flex items-center justify-center gap-2 whitespace-nowrap">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                                </svg>
                                Download
                            </button>
                        </div>
                        
                        <!-- Video Preview Card (hidden by default) -->
                        <div id="youtube-preview" class="hidden mb-6">
                            <div class="flex flex-col sm:flex-row gap-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600">
                                <div class="flex-shrink-0">
                                    <img id="yt-thumbnail" src="" alt="Video thumbnail" class="w-full sm:w-48 h-auto rounded-lg object-cover">
                                </div>
                                <div class="flex-1 min-w-0">
                                    <h4 id="yt-title" class="font-semibold text-gray-900 dark:text-gray-100 truncate"></h4>
                                    <p id="yt-channel" class="text-sm text-gray-500 dark:text-gray-400 mt-1"></p>
                                    <div class="flex flex-wrap gap-3 mt-3 text-xs text-gray-500 dark:text-gray-400">
                                        <span id="yt-duration" class="flex items-center gap-1">
                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                            </svg>
                                            <span></span>
                                        </span>
                                        <span id="yt-views" class="flex items-center gap-1">
                                            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                            </svg>
                                            <span></span>
                                        </span>
                                    </div>
                                    <div class="mt-3 text-xs">
                                        <p class="text-gray-600 dark:text-gray-400"><strong>Will save as:</strong></p>
                                        <p class="text-gray-500 dark:text-gray-500 mt-1">
                                            <span class="font-mono bg-gray-100 dark:bg-gray-600 px-2 py-1 rounded" id="yt-filename"></span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Download Progress (hidden by default) -->
                        <div id="youtube-progress" class="hidden mb-6">
                            <div class="p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-200 dark:border-blue-800">
                                <div class="flex items-center justify-between mb-2">
                                    <span id="yt-progress-message" class="text-sm font-medium text-blue-700 dark:text-blue-300">Starting download...</span>
                                    <span id="yt-progress-percent" class="text-sm font-bold text-blue-700 dark:text-blue-300">0%</span>
                                </div>
                                <div class="w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2">
                                    <div id="yt-progress-bar" class="bg-gradient-to-r from-blue-500 to-primary-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Download History -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700">
                        <h3 class="text-base md:text-lg font-bold mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-primary-600 dark:text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Recent Downloads
                        </h3>
                        <div id="youtube-history" class="space-y-3">
                            <div class="empty-state text-center py-8">
                                <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                                </svg>
                                <p class="mt-2 text-sm text-gray-500 dark:text-gray-400">No downloads yet</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Cookies Configuration -->
                    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700 mt-6">
                        <h3 class="text-base md:text-lg font-bold mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                            </svg>
                            YouTube Authentication (Cookies)
                        </h3>
                        
                        <!-- Cookies Status -->
                        <div id="cookies-status" class="mb-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600">
                            <div class="flex items-center gap-2">
                                <span id="cookies-status-icon" class="w-3 h-3 rounded-full bg-gray-400"></span>
                                <span id="cookies-status-text" class="text-sm text-gray-600 dark:text-gray-400">Checking cookies status...</span>
                            </div>
                        </div>
                        
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">
                            If you're getting "Sign in to confirm you're not a bot" errors, you need to provide YouTube cookies from your browser.
                            Export your cookies using a browser extension like 
                            <a href="https://chrome.google.com/webstore/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc" target="_blank" class="text-primary-600 hover:underline">Get cookies.txt LOCALLY</a> (Chrome) or 
                            <a href="https://addons.mozilla.org/en-US/firefox/addon/cookies-txt/" target="_blank" class="text-primary-600 hover:underline">cookies.txt</a> (Firefox).
                        </p>
                        
                        <!-- Cookies Upload Options -->
                        <div class="space-y-4">
                            <!-- File Upload -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Upload cookies.txt file:</label>
                                <div class="flex gap-2">
                                    <input type="file" id="cookies-file-input" accept=".txt" 
                                        class="flex-1 px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 file:mr-3 file:py-1 file:px-3 file:rounded file:border-0 file:text-sm file:bg-primary-100 file:text-primary-700 dark:file:bg-primary-900 dark:file:text-primary-300 hover:file:bg-primary-200">
                                    <button onclick="uploadCookiesFile()" class="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm">
                                        Upload
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Text Paste -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Or paste cookies content:</label>
                                <textarea id="cookies-text-input" rows="4" placeholder="# Netscape HTTP Cookie File&#10;.youtube.com&#9;TRUE&#9;/&#9;TRUE&#9;0&#9;CONSENT&#9;YES+..." 
                                    class="w-full px-3 py-2 text-sm rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-400 font-mono"></textarea>
                                <div class="flex gap-2 mt-2">
                                    <button onclick="uploadCookiesText()" class="px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors text-sm">
                                        Save Cookies
                                    </button>
                                    <button onclick="deleteCookies()" id="delete-cookies-btn" class="px-4 py-2 bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors text-sm">
                                        Delete Cookies
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- PO Token Provider Status (Automated - Set and Forget) -->
                    <div id="pot-provider-section" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-4 md:p-6 border border-gray-200 dark:border-gray-700 mt-6">
                        <h3 class="text-base md:text-lg font-bold mb-4 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                            </svg>
                            PO Token Provider (Automatic Bot Bypass)
                            <span class="ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 rounded-full">Set &amp; Forget</span>
                        </h3>
                        
                        <!-- POT Provider Status -->
                        <div id="pot-provider-status" class="mb-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600">
                            <div class="flex items-center gap-2">
                                <span id="pot-status-icon" class="w-3 h-3 rounded-full bg-gray-400 animate-pulse"></span>
                                <span id="pot-status-text" class="text-sm text-gray-600 dark:text-gray-400">Checking PO Token provider...</span>
                            </div>
                        </div>
                        
                        <div class="text-sm text-gray-500 dark:text-gray-400 space-y-2">
                            <p>
                                <strong>ðŸŽ‰ No setup required!</strong> The PO Token provider runs automatically as a Docker service and generates 
                                proof-of-origin tokens that bypass YouTube's bot detection.
                            </p>
                            <p>
                                This is the recommended solution from the yt-dlp community. It uses 
                                <a href="https://github.com/Brainicism/bgutil-ytdlp-pot-provider" target="_blank" class="text-primary-600 hover:underline">bgutil-ytdlp-pot-provider</a>
                                to automatically handle YouTube's anti-bot measures.
                            </p>
                        </div>
                        
                        <!-- Features -->
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                            <div class="p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                                <div class="font-medium text-green-700 dark:text-green-400 text-sm">âœ“ Automatic</div>
                                <div class="text-xs text-green-600 dark:text-green-500 mt-1">No manual intervention needed</div>
                            </div>
                            <div class="p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                                <div class="font-medium text-green-700 dark:text-green-400 text-sm">âœ“ No Account Required</div>
                                <div class="text-xs text-green-600 dark:text-green-500 mt-1">Works without Google login</div>
                            </div>
                            <div class="p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800">
                                <div class="font-medium text-green-700 dark:text-green-400 text-sm">âœ“ Self-Refreshing</div>
                                <div class="text-xs text-green-600 dark:text-green-500 mt-1">Tokens are regenerated as needed</div>
                            </div>
                        </div>
                        
                        <!-- Fallback notice -->
                        <div class="mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg">
                            <p class="text-sm text-blue-700 dark:text-blue-400">
                                <strong>ðŸ’¡ Fallback:</strong> If the PO Token provider is unavailable, you can still use manual cookies (above) as a backup.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/processing-monitor.js') }}"></script>
    <script src="{{ url_for('static', filename='js/audio-player.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dashboard-monitor.js') }}"></script>
    <script src="{{ url_for('static', filename='js/settings.js') }}"></script>
    <script src="{{ url_for('static', filename='js/monitoring.js') }}"></script>
